redis优化
每天1万个用户签到，1个月就30万条数据，3个月就接近百万的数据量，占用硬盘空间大概50MB
存储100万个用户365天的签到记录，需要17.52GB左右

Redis Key的设计为:user:signins:{userId}
其中:
    user是业务领域前缀
    signins是具体操作或功能
    {userld)表示每个用户，是动态值
如果Redis被多个项目公用，还可以在开头增加项目前缀区分，比如mianshiya:user:signins:{userId}o

Redis键设计规范
    明确性:键名称应明确表示数据的含义和结构。例如，通过使用signins 可以清楚地知道这个键与用户的签到记录有关。
    层次结构:使用冒号:分隔不同的部分，可以使键结构化，便于管理和查询。
    唯一性:确保键的唯一性，避免不同数据使用相同的键前缀。
    一致性:在整个系统中保持键设计的一致性，使得管理和维护变得更加简单。
    长度:避免过长的键名称，以防影响性能和存储效率。



优化小结
本功能的性能优化也是有代表性的，总结出来几个实用优化思路:
1.减少网络请求或调用次数
2.减少接口传输数据的体积
3.减少循环和计算
4.通过客户端计算减少服务端的压力
  



ElasticStack(也称为ELKStack):
Elasticsearch:核心搜索引擎，负责存储、索引和搜索数据。
Kibana:可视化平台，用于查询、分析和展示Elasticsearch中的数据。
Logstash:数据处理管道，负责数据收集、过滤、增强和传输到Elasticsearch。
Beats:轻量级的数据传输工具,收集和发送数据到Logstash或Elasticsearch。

Elasticsearch的核心概念
索引(Index):类似于关系型数据库中的表，索引是数据存储和搜索的基本单位。每个索引可以存储多条文档数据。
文档(Document):索引中的每条记录，类似于数据库中的行。文档以JSON格式存储。
字段(Field):文档中的每个键值对，类似于数据库中的列。
映射(Mapping):用于定义Elasticsearch索引中文档字段的数据类型及其处理方式，类似于关系型数据库中的Schema表结构，帮助控制字段的存储、索引和查询行为。
集群(Cluster):多个节点组成的群集，用于存储数据并提供搜索功能。集群中的每个节点都可以处理数据。
分片(Shard):为了实现横向扩展，ES将索引拆分成多个分片，每个分片可以分布在不同节点上。
副本(Replica):分片的复制品，用于提高可用性和容错性。

Elasticsearch打分规则
实际应用Elasticsearch来实现搜索功能时，我们不仅要求能搜到内容，而且还要把和用户搜索最相关的内容展示在前面。这就需要我们了解Elasticsearch的打分规则。
打分规则(Score)是用于衡量每个文档与查询条件的匹配度的评分机制。搜索结果的默认排序方式是按相关性得分(score)从高到低。Elasticsearch使用BM25算法来计算每个文档的得分，它是基于词频、反向文档频率、文档长度等因素来评估文档和查询的相关性。
打分的主要因素:
1.词频(TF,Term Frequency):查询词在文档中出现的次数，出现次数越多，得分越高。
2.反向文档频率(IDF,Inverse Document Frequency):查询词在所有文档中出现的频率。词在越少的文档中出现，IDF值越高，得分越高。
3.文档长度:较短的文档往往被认为更相关，因为查询词在短文档中占的比例更大。



es以及可视化界面
https://www.elastic.co/guide/en/elasticsearch/reference/7.17/zip-windows.html
https://www.elastic.co/guide/en/kibana/7.17/windows.html
.\bin\elasticsearch.bat
.\bin\kibana.bat

es分词器安装
https://github.com/infinilabs/analysis-ik
https://release.infinilabs.com/analysis-ik/stable/